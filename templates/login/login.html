{% extends 'base/base.html' %}

{% load static %}

{% block title %}Indemnidata - Login{% endblock %}

{% block content %}
    <div style="text-align: center; margin-bottom: 0;">
        <img src="{% static 'css/img/indemnidata.png' %}" alt="logo" style="width: 250px; height: auto; margin-bottom: -70px; margin-top: -70px;"> 
    </div>
    <form action="{% url 'login' %}" method="post" onsubmit="return validateForm()">
        {% csrf_token %}
        <p>
            <label for="username">Usuario:</label>
            <input type="text" name="username" placeholder="Username" required> 
            {% if username_error %}
                 <span class="error-message">{{ username_error }}</span>
            {% endif %}
        </p>
        <p> 
            <label for="password">Contraseña:</label>
            <div style="position: relative; width: 100%;">
                <input type="password" name="password" id="password" placeholder="Password" required style="width: 100%; padding-right: 35px;">
                <span id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;">
                    <i id="eyeIcon" class="fa fa-eye"></i>
                </span>
            </div>
            {% if error %}
                <span class="error-message">{{ error }}</span>
            {% endif %}
        </p>
        <p>
        <button type="submit" >Aceptar</button>
        </p>
        <p id="link_reg">
            <a href="{% url 'registro' %}" id="link_reg">Registrarse</a>
        </p>
         
    </form>
    <script>
    const passwordInput = document.getElementById('password');
    const togglePassword = document.getElementById('togglePassword');
    const eyeIcon = document.getElementById('eyeIcon');
    togglePassword.addEventListener('click', function() {
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            eyeIcon.classList.remove('fa-eye');
            eyeIcon.classList.add('fa-eye-slash');
        } else {
            passwordInput.type = 'password';
            eyeIcon.classList.remove('fa-eye-slash');
            eyeIcon.classList.add('fa-eye');
        }
    });
    </script>
{% endblock %}

{% block footer %}
<footer>
    <!-- Contenido del pie de página -->
   
</footer>
{% endblock %}